<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<title>Hmk1-Q4</title>
	<script src="https://d3js.org/d3.v5.min.js"></script>
	<style>
	 .background {
	     fill: #ddd;
	 }
	 .grid {
	     stroke: #fff;
	     stroke-width: 5;
	 }
	 .hist {
	     stroke: #00ffff;
	     stroke-width: 3;
	 }
	 .label {
	     font-family: sans-serif;
	 }
	 .axis {
	     font-size: 14px;
	 }
	 #title {
	     font-size: 24px;
	 }
	 #ylabel {
	     transform: rotate(270deg);
	 }
	</style>
    </head>
    <body>
	<svg class="container" x="0" y="0" width="715" height="400">
	    <rect class="background" x="50" y="50" width="635" height="300"></rect>
	    <path class="grid" d="M 50 250 l 635 0"/>
	    <path class="grid" d="M 50 150 l 635 0"/>
	    <rect class="hist" x="60" y="300" width="100" height="50"></rect>
	    <rect class="hist" x="163" y="200" width="100" height="150"></rect>
	    <rect class="hist" x="266" y="150" width="100" height="200"></rect>
	    <rect class="hist" x="369" y="100" width="100" height="250"></rect>
	    <rect class="hist" x="472" y="200" width="100" height="150"></rect>
	    <rect class="hist" x="575" y="250" width="100" height="100"></rect>
	    <text class="label" id="title" x="368" y="40" text-anchor="middle">How many widgets at the widgeteria?</text>
	    <text class="label axis" id="ylabel" x="-200" y="15" text-anchor="middle">Frequency</text>
	    <text class="label axis" x="35" y="355" text-anchor="middle">0</text>
	    <text class="label axis" x="35" y="255" text-anchor="middle">10</text>
	    <text class="label axis" x="35" y="155" text-anchor="middle">20</text>
	    <text class="label axis" x="60" y="370" text-anchor="middle">3</text>
	    <text class="label axis" x="163" y="370" text-anchor="middle">4</text>
	    <text class="label axis" x="266" y="370" text-anchor="middle">5</text>
	    <text class="label axis" x="369" y="370" text-anchor="middle">6</text>
	    <text class="label axis" x="472" y="370" text-anchor="middle">7</text>
	    <text class="label axis" x="575" y="370" text-anchor="middle">8</text>
	    <text class="label axis" x="678" y="370" text-anchor="middle">9</text>
	</svg>
	<script>
	 const labelColor = d3.selectAll('.label')
			      .attr('fill', '#f38');

	 const rectColor = d3.selectAll('.hist')
			     .attr('fill', '#49cf33');

	 repeat()

	 const onHover = d3.selectAll('.hist')
			   .on('mouseover', function () {
			       d3.select(this)
				 .attr('fill', 'orange');
			   })
			   .on('mouseout', function () {
			       d3.select(this)
				 .attr('fill', '#49cf33');
			   });
	 
	 function repeat() {
	     
	     const up = d3.selectAll('.hist')
			  .filter(function (d, i) { return i === 0 ;})
			  .transition()
			  .duration(2000)
			  .ease(d3.easePolyOut)
			  .attr('y', '100')
			  .attr('height', '250')
			  .transition()
			  .duration(2000)
			  .ease(d3.easePolyOut)
			  .attr('y', '300')
			  .attr('height', '50')
			  .on('end', repeat);

	     const down = d3.selectAll('.hist')
			    .filter(function (d, i) { return i === 3 ;})
			    .transition()
			    .duration(2000)
			    .ease(d3.easePolyOut)
			    .attr('y', '300')
			    .attr('height', '50')
			    .transition()
			    .duration(2000)
			    .ease(d3.easePolyOut)
			    .attr('y', '100')
			    .attr('height', '250')
			    .on('end', repeat);

	 };
	</script>
    </body>
</html>
